{"version":3,"sources":["nyt-default.png","News.js","List.js","ListContainer.js","NewsBoard.js","Search.js","SearchList.js","App.js","index.js"],"names":["getImageNormal","media","arr","i","length","format","url","getImageStatic","subtype","News","props","title","data","headline","main","text","abstract","link","web_url","img","multimedia","defaultImg","className","href","src","alt","List","items","map","item","id","_id","ListContainer","call","useState","error","setError","isLoaded","setIsLoaded","setItems","useEffect","fetch","then","res","json","result","results","response","docs","splice","message","NewsBoard","Search","value","setValue","onSubmit","event","preventDefault","onChange","target","type","name","placeholder","SearchList","keyword","App","setKeyword","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d1c832a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nyt-default.7d2300df.png\";","import React from 'react';\nimport defaultImg from './nyt-default.png';\n\nconst getImage = (media) => {\n  if (media[0]) {\n    return media[0]['media-metadata']\n      ? getImageNormal(media[0]['media-metadata'])\n      : getImageStatic(media);\n  } else {\n    return defaultImg;\n  }\n};\n\nconst getImageNormal = (media) => {\n  const arr = media;\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i].format === 'mediumThreeByTwo440') {\n      return arr[i].url;\n    }\n  }\n};\n\nconst getImageStatic = (media) => {\n  const arr = media;\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i].subtype === 'mediumThreeByTwo440') {\n      return 'https://static01.nyt.com/' + arr[i].url;\n    }\n  }\n};\n\nexport const News = (props) => {\n  const title = props.data.title || props.data.headline.main;\n  const text = props.data.abstract;\n  const link = props.data.url || props.data.web_url;\n  const img = getImage(props.data.media || props.data.multimedia);\n\n  return (\n    <article className=\"mid\">\n      <a href={link}>\n        <img src={img} alt=\"\" />\n        <h3>{title}</h3>\n        <p>{text}</p>\n      </a>\n    </article>\n  );\n};\n","import React from 'react';\nimport { News } from './News';\n\nexport function List(props) {\n  const title = props.title;\n  const items = props.items;\n\n  return (\n    <div>\n      <h2>{title}</h2>\n      <hr></hr>\n      <ul>\n        {items.map((item) => (\n          <li key={item.id || item._id}>\n            <News data={item} />\n            <hr />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { List } from './List';\n\nexport function ListContainer(props) {\n  const call = props.call;\n  const title = props.title;\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    fetch(call)\n      .then((res) => {\n        return res.json();\n      })\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          const data = result.results || result.response.docs;\n          data.splice(10);\n          setItems(data);\n        },\n\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      );\n  }, [call]);\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  } else if (!isLoaded) {\n    return <div>Loading...</div>;\n  } else {\n    return <List title={title} items={items} />;\n  }\n}\n","import React from 'react';\nimport { ListContainer } from './ListContainer';\n\nconst call = {\n  emailed:\n    'https://api.nytimes.com/svc/mostpopular/v2/emailed/1.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK',\n  shared:\n    'https://api.nytimes.com/svc/mostpopular/v2/shared/1/facebook.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK',\n  viewed:\n    'https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK',\n};\n\nexport const NewsBoard = () => {\n  return (\n    <div className=\"grid\">\n      <ListContainer title=\"Top 10 emailed news\" call={call.emailed} />\n      <ListContainer title=\"Top 10 shared news\" call={call.shared} />\n      <ListContainer title=\"Top 10 viewed news\" call={call.viewed} />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\n\nexport const Search = (props) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.onSubmit(value);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={value}\n        onChange={handleChange}\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Search...\"\n      />\n      <input type=\"submit\" value=\"Search\" />\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { News } from './News';\n\nexport function SearchList(props) {\n  const keyword = props.keyword;\n  const call = `https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${keyword}&sort=newest&api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK`;\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    fetch(call)\n      .then((res) => {\n        return res.json();\n      })\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          const data = result.results || result.response.docs;\n          data.splice(10);\n          setItems(data);\n        },\n\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      );\n  }, [call]);\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  } else if (!isLoaded) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div className=\"searchList\">\n        <h2>results for: {keyword}</h2>\n        <hr></hr>\n        <ul>\n          {items.map((item) => (\n            <li key={item.id || item._id}>\n              <News data={item} />\n              <hr />\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport { NewsBoard } from './NewsBoard';\nimport { Search } from './Search';\nimport { SearchList } from './SearchList';\n\nexport const App = () => {\n  const [keyword, setKeyword] = useState('');\n\n  const changeKeyword = (keyword) => {\n    setKeyword(keyword);\n  };\n\n  return (\n    <div>\n      <h1>New York Times News</h1>\n      <Search onSubmit={changeKeyword} />\n      {keyword ? <SearchList keyword={keyword} /> : <NewsBoard />}\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}