(this["webpackJsonpnew-york-times-news"]=this["webpackJsonpnew-york-times-news"]||[]).push([[0],{10:function(e,t,c){},11:function(e,t,c){"use strict";c.r(t);var s=c(4),n=c.n(s),a=c(2),i=c(1),r=c.p+"static/media/nyt-default.7d2300df.png",j=c(0),u=function(e){for(var t=e,c=0;c<t.length;c++)if("mediumThreeByTwo440"===t[c].format)return t[c].url},l=function(e){for(var t=e,c=0;c<t.length;c++)if("mediumThreeByTwo440"===t[c].subtype)return"https://static01.nyt.com/"+t[c].url},o=function(e){var t,c=e.data.title||e.data.headline.main,s=e.data.abstract,n=e.data.url||e.data.web_url,a=(t=e.data.media||e.data.multimedia)[0]?t[0]["media-metadata"]?u(t[0]["media-metadata"]):l(t):r;return Object(j.jsx)("article",{className:"mid",children:Object(j.jsxs)("a",{href:n,children:[Object(j.jsx)("img",{src:a,alt:""}),Object(j.jsx)("h3",{children:c}),Object(j.jsx)("p",{children:s})]})})};function d(e){var t=e.title,c=e.items;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t}),Object(j.jsx)("hr",{}),Object(j.jsx)("ul",{children:c.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)(o,{data:e}),Object(j.jsx)("hr",{})]},e.id||e._id)}))})]})}function b(e){var t=e.call,c=e.title,s=Object(i.useState)(null),n=Object(a.a)(s,2),r=n[0],u=n[1],l=Object(i.useState)(!1),o=Object(a.a)(l,2),b=o[0],h=o[1],m=Object(i.useState)([]),O=Object(a.a)(m,2),p=O[0],f=O[1];return Object(i.useEffect)((function(){fetch(t).then((function(e){return e.json()})).then((function(e){h(!0);var t=e.results||e.response.docs;t.splice(10),f(t)}),(function(e){h(!0),u(e)}))}),[t]),r?Object(j.jsxs)("div",{children:["Error: ",r.message]}):b?Object(j.jsx)(d,{title:c,items:p}):Object(j.jsx)("div",{children:"Loading..."})}var h="https://api.nytimes.com/svc/mostpopular/v2/emailed/1.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK",m="https://api.nytimes.com/svc/mostpopular/v2/shared/1/facebook.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK",O="https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK",p=function(){return Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsx)(b,{title:"Top 10 emailed news",call:h}),Object(j.jsx)(b,{title:"Top 10 shared news",call:m}),Object(j.jsx)(b,{title:"Top 10 viewed news",call:O})]})},f=function(e){var t=Object(i.useState)(""),c=Object(a.a)(t,2),s=c[0],n=c[1];return Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(s)},children:[Object(j.jsx)("input",{value:s,onChange:function(e){n(e.target.value)},type:"text",name:"name",placeholder:"Search..."}),Object(j.jsx)("input",{type:"submit",value:"Search"})]})};function v(e){var t=e.keyword,c="https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(t,"&sort=newest&api-key=mZMSXI9udyHWr7GXT8IyjNlD5JvWeeDK"),s=Object(i.useState)(null),n=Object(a.a)(s,2),r=n[0],u=n[1],l=Object(i.useState)(!1),d=Object(a.a)(l,2),b=d[0],h=d[1],m=Object(i.useState)([]),O=Object(a.a)(m,2),p=O[0],f=O[1];return Object(i.useEffect)((function(){fetch(c).then((function(e){return e.json()})).then((function(e){h(!0);var t=e.results||e.response.docs;t.splice(10),f(t)}),(function(e){h(!0),u(e)}))}),[c]),r?Object(j.jsxs)("div",{children:["Error: ",r.message]}):b?Object(j.jsxs)("div",{className:"searchList",children:[Object(j.jsxs)("h2",{children:["results for: ",t]}),Object(j.jsx)("hr",{}),Object(j.jsx)("ul",{children:p.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)(o,{data:e}),Object(j.jsx)("hr",{})]},e.id||e._id)}))})]}):Object(j.jsx)("div",{children:"Loading..."})}var x=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"New York Times News"}),Object(j.jsx)(f,{onSubmit:function(e){s(e)}}),c?Object(j.jsx)(v,{keyword:c}):Object(j.jsx)(p,{})]})};c(10);n.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f7bdb066.chunk.js.map